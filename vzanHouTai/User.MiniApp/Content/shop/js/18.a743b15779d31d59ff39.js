webpackJsonp([18],{EWQ6:function(s,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var e=t("Xxa5"),a=t.n(e),n=t("exGp"),c=t.n(n),o=t("wt7V"),l=t("Hj/8"),_=t("q0fy"),d=t("GKmE"),r={data:function(){return{dish_open_status:!1,dish_show_status:!1,logo:"",storename:{value:"龙门烤鱼(东方宝泰店）",placeholder:"请输入店铺名",title:"门店名称"},dish_gonggao:{value:"全场9折",placeholder:"请输入店铺公告",title:"门店公告"},dish_yuding_gonggao:{value:"只能提前1小时预定",placeholder:"请输入预定公告",title:"预定公告"},dish_quyu:{value:"天河区",placeholder:"请输入所属区域",title:"所属区域"},dish_address:{value:"广东省广州市海珠区新港中路354号珠影·星光城123/206号铺",placeholder:"请输入商家地址",title:"商家地址"},dish_pingjunxiaofei:{value:"118",placeholder:"请输入人均消费",title:"人均消费"},open_time:{value:[],placeholder:"请添加店内营内时间,'-'号分隔",title:"店内营内时间"},wm_time:{value:[],placeholder:"请添加外卖营业时间，'-'号分隔",title:"外卖营业时间"},dish_jieshao:{value:"",placeholder:"请输入门店介绍",title:"门店介绍"},dish_con_mobile:{value:"13265066185",placeholder:"请输入手机号码",title:"手机号码"},dish_con_phone:{value:"13265066185",placeholder:"请输入门店电话",title:"门店电话"},dish_fuwu:{value:"",placeholder:"请输入提供服务",title:"提供服务"},dish_shijing:[],dish_zizhi:[],lat:0,lng:0}},components:{"btn-bottom":o.a,"input-assistor":l.a},computed:{shijingLen:function(){return this.dish_shijing?this.dish_shijing.length:0},zizhiLen:function(){return this.dish_zizhi?this.dish_zizhi.length:0}},methods:{previewImg:function(s,i){d.a.previewImg(s,i)},chooseLocation:function(){var s=this;return c()(a.a.mark(function i(){var t;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.openLocation(s.lat,s.lng);case 2:t=i.sent,console.log(t,"经纬度");case 4:case"end":return i.stop()}},i,s)}))()},getLocation:function(){var s=this;d.a.msgConfirm("确定要更新门店坐标为当前位置吗？",c()(a.a.mark(function i(){var t;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.getLocation();case 2:if(!(t=i.sent)){i.next=8;break}return s.lat=t.latitude,s.lng=t.longitude,i.next=8,s.$messagebox.alert("更新成功");case 8:case"end":return i.stop()}},i,s)})))},uploadLogo:function(){var s=this;return c()(a.a.mark(function i(){return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.getUploadedImgs(1);case 2:s.logo=i.sent;case 3:case"end":return i.stop()}},i,s)}))()},add_dish_shijing:function(){var s=this;return c()(a.a.mark(function i(){var t,e;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.getUploadedImgs(9);case 2:t=i.sent,e=s.dish_shijing.concat(t),s.dish_shijing=s.limitLen(e,9);case 5:case"end":return i.stop()}},i,s)}))()},add_dish_zizhi:function(){var s=this;return c()(a.a.mark(function i(){var t,e;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,d.a.getUploadedImgs(9);case 2:t=i.sent,e=s.dish_zizhi.concat(t),s.dish_zizhi=s.limitLen(e,9);case 5:case"end":return i.stop()}},i,s)}))()},removeImg:function(s,i){this[s].splice(i,1)},limitLen:function(s,i){return s.slice(0,i)},save:function(){var s=this;return c()(a.a.mark(function i(){var t,e,n;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:for(n in t={},e=d.a.cloneDeep(s.$data))t[n]="open_time"==n?d.a.terminalFormat(e[n],"dish_open_btime","dish_open_etime"):"wm_time"==n?d.a.terminalFormat(e[n],"dish_open_wm_btime","dish_open_wm_etime"):"dish_show_status"==n||"dish_open_status"==n?!0===e[n]?1:0:"logo"==n||"dish_shijing"==n||"dish_zizhi"==n||"lng"==n||"lat"==n?e[n]:e[n].value;return t.dish_fuwu_arr=t.dish_fuwu.split(/,|，/g),i.next=6,_.a.saveShopBaseConfig(t);case 6:if(!i.sent){i.next=11;break}return i.next=10,s.$messagebox.alert("保存成功");case 10:window.location.reload();case 11:case"end":return i.stop()}},i,s)}))()},removeDate:function(s,i){var t=s.value;t.splice(i,1),s.value=t},mappingValue:function(s,i){switch(s){case"门店名称":this.storename.value=i;break;case"门店公告":this.dish_gonggao.value=i;break;case"预定公告":this.dish_yuding_gonggao.value=i;break;case"所属区域":this.dish_quyu.value=i;break;case"商家地址":this.dish_address.value=i;break;case"人均消费":this.dish_pingjunxiaofei.value=i;break;case"店内营内时间":this.open_time.value.push(i);break;case"外卖营业时间":this.wm_time.value.push(i);break;case"门店介绍":this.dish_jieshao.value=i;break;case"手机号码":this.dish_con_mobile.value=i;break;case"门店电话":this.dish_con_phone.value=i;break;case"提供服务":this.dish_fuwu.value=i}},preInject:function(s,i,t){this.$refs.assistor.open(s,i,t)},getShopBaseConfig:function(){var s=this;return c()(a.a.mark(function i(){var t,e;return a.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,_.a.getShopBaseConfig();case 2:if(t=i.sent)for(e in delete t.dish_share,delete t.dish_fuwu_arr,t)"open_time"==e?s[e].value=t[e].map(function(s){return s.dish_open_btime+"-"+s.dish_open_etime}):"wm_time"==e?s[e].value=t[e].map(function(s){return s.dish_open_wm_btime+"-"+s.dish_open_wm_etime}):"dish_show_status"==e||"dish_open_status"==e?s[e]=1===t[e]:"logo"==e||"dish_shijing"==e||"dish_zizhi"==e||"lng"==e||"lat"==e?s[e]=t[e]:s[e].value=t[e];case 4:case"end":return i.stop()}},i,s)}))()}},mounted:function(){this.getShopBaseConfig()}},u={render:function(){var s=this,i=s.$createElement,t=s._self._c||i;return t("div",{staticClass:"shop-config-base"},[t("div",{staticClass:"bg-w pl24 c333 f30"},[t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v("门店logo")]),s._v(" "),t("div",{staticClass:"avator rel",on:{click:s.uploadLogo}},[s.logo?t("img",{directives:[{name:"src",rawName:"v-src",value:s.logo,expression:"logo"}],staticClass:"avator"}):t("div",{staticClass:"avator theme-bg-color tc lh17 dzicon icon-icon_morentubiao cfff f60"}),s._v(" "),s._m(0)])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.storename.title))]),s._v(" "),t("div",{staticClass:" fg1 tr lh14",class:s.storename.value?"c666":"cccc",on:{click:function(i){s.preInject(s.storename.title,s.storename.placeholder,s.storename.value)}}},[s._v(s._s(s.storename.value||s.storename.placeholder))])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v("门店状态")]),s._v(" "),t("mt-switch",{model:{value:s.dish_open_status,callback:function(i){s.dish_open_status=i},expression:"dish_open_status"}})],1),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v("前台显示")]),s._v(" "),t("mt-switch",{model:{value:s.dish_show_status,callback:function(i){s.dish_show_status=i},expression:"dish_show_status"}})],1)]),s._v(" "),t("div",{staticClass:"mt20 pl24 bg-w f30"},[t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_gonggao.title))]),s._v(" "),t("div",{staticClass:" fg1 tr lh14",class:s.dish_gonggao.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_gonggao.title,s.dish_gonggao.placeholder,s.dish_gonggao.value)}}},[s._v(s._s(s.dish_gonggao.value||s.dish_gonggao.placeholder))])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_yuding_gonggao.title))]),s._v(" "),t("div",{staticClass:" fg1 tr lh14",class:s.dish_yuding_gonggao.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_yuding_gonggao.title,s.dish_yuding_gonggao.placeholder,s.dish_yuding_gonggao.value)}}},[s._v(s._s(s.dish_yuding_gonggao.value||s.dish_yuding_gonggao.placeholder))])])]),s._v(" "),t("div",{staticClass:"mt20 pl24 bg-w f30"},[t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_quyu.title))]),s._v(" "),t("div",{staticClass:"fg1 tr lh14",class:s.dish_yuding_gonggao.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_quyu.title,s.dish_quyu.placeholder,s.dish_quyu.value)}}},[s._v(s._s(s.dish_quyu.value||s.dish_quyu.placeholder))])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_address.title))]),s._v(" "),t("div",{staticClass:"fg1 tr lh14",class:s.dish_address.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_address.title,s.dish_address.placeholder,s.dish_address.value)}}},[s._v(s._s(s.dish_address.value||s.dish_address.placeholder)+"/206号铺")])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v("门店坐标")]),s._v(" "),t("div",{staticClass:"c666 fg1 tr lh14",on:{click:s.getLocation}},[t("span",[s._v(s._s(s.lng+","+s.lat))]),s._v(" "),t("i",{staticClass:"dzicon icon-icon_fanhui"})])])]),s._v(" "),t("div",{staticClass:"mt20 pl24 bg-w f30"},[t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_pingjunxiaofei.title))]),s._v(" "),t("div",{staticClass:" fg1 tr lh14",class:s.dish_pingjunxiaofei.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_pingjunxiaofei.title,s.dish_pingjunxiaofei.placeholder,s.dish_pingjunxiaofei.value)}}},[s._v(s._s(s.dish_pingjunxiaofei.value||s.dish_pingjunxiaofei.placeholder))])])]),s._v(" "),t("div",{staticClass:"mt20 pl24 bg-w f30"},[t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"w200 fs"},[s._v(s._s(s.open_time.title))]),s._v(" "),t("div",{staticClass:"c666 fg1 lh14 f fe"},[t("div",{staticClass:"f fv"},[t("div",{staticClass:"fg1 f fe"},[t("div",{staticClass:"btn-add btn-base tc dzicon icon-icon_tianjia1",on:{click:function(i){s.preInject(s.open_time.title,s.open_time.placeholder,"")}}},[t("span",{staticClass:"ml5"},[s._v("添加")])])]),s._v(" "),s._l(s.open_time.value,function(i,e){return t("div",{staticClass:"date-item mt20 f fc fj"},[t("div",{staticClass:"date"},[s._v("\n              "+s._s(i)+"\n            ")]),s._v(" "),t("div",{staticClass:"btn-del btn-base tc dzicon icon-icon_shanchu1",on:{click:function(i){s.removeDate(s.open_time,e)}}},[t("span",{staticClass:"ml5"},[s._v("删除")])])])})],2)])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"w200 fs"},[s._v(s._s(s.wm_time.title))]),s._v(" "),t("div",{staticClass:"c666 fg1 lh14 f fe"},[t("div",{staticClass:"f fv"},[t("div",{staticClass:"fg1 f fe"},[t("div",{staticClass:"btn-add btn-base tc dzicon icon-icon_tianjia1",on:{click:function(i){s.preInject(s.wm_time.title,s.wm_time.placeholder,"")}}},[t("span",{staticClass:"ml5"},[s._v("添加")])])]),s._v(" "),s._l(s.wm_time.value,function(i,e){return t("div",{staticClass:"date-item mt20 f fc fj"},[t("div",{staticClass:"date"},[s._v("\n              "+s._s(i)+"\n            ")]),s._v(" "),t("div",{staticClass:"btn-del btn-base tc dzicon icon-icon_shanchu1",on:{click:function(i){s.removeDate(s.wm_time,e)}}},[t("span",{staticClass:"ml5"},[s._v("删除")])])])})],2)])])]),s._v(" "),t("div",{staticClass:"shop-pto bg-w mt20 f30 c333"},[t("div",{staticClass:"pto-group"},[t("div",{staticClass:"title mb40"},[s._v("\n        门店实景\n      ")]),s._v(" "),t("div",{staticClass:"ablum f fw"},[s._l(s.dish_shijing,function(i,e){return t("div",{staticClass:"ablum-item fs rel"},[t("img",{directives:[{name:"src",rawName:"v-src",value:i,expression:"item"}],staticClass:"rect218 bg-f5",on:{click:function(i){s.previewImg(s.dish_shijing,e)}}}),s._v(" "),t("div",{staticClass:"abs btn-remove f fc jc fv f20 cfff",on:{click:function(i){s.removeImg("dish_shijing",e)}}},[s._v("X")])])}),s._v(" "),9!=s.shijingLen?t("div",{staticClass:"btn-upload rect218 fs f fc fv jc ablum-item c999",on:{click:s.add_dish_shijing}},[t("span",{staticClass:"dzicon icon-icon_tianjia- f40"}),s._v(" "),t("span",{staticClass:"mt10"},[s._v(s._s(s.shijingLen)+"/9")])]):s._e()],2)]),s._v(" "),t("div",{staticClass:"pto-group mt20"},[t("div",{staticClass:"title mb40"},[s._v("\n        资质证书\n      ")]),s._v(" "),t("div",{staticClass:"ablum f fw"},[s._l(s.dish_zizhi,function(i,e){return t("div",{staticClass:"ablum-item fs rel"},[t("img",{directives:[{name:"src",rawName:"v-src",value:i,expression:"item"}],staticClass:"rect218 bg-f5",on:{click:function(i){s.previewImg(s.dish_zizhi,e)}}}),s._v(" "),t("div",{staticClass:"abs btn-remove f fc jc fv f20 cfff",on:{click:function(i){s.removeImg("dish_zizhi",e)}}},[s._v("X")])])}),s._v(" "),9!=s.zizhiLen?t("div",{staticClass:"btn-upload rect218 fs f fc fv jc ablum-item c999",on:{click:s.add_dish_zizhi}},[t("span",{staticClass:"dzicon icon-icon_tianjia- f40"}),s._v(" "),t("span",{staticClass:"mt10"},[s._v(s._s(s.zizhiLen)+"/9")])]):s._e()],2)])]),s._v(" "),t("div",{staticClass:"mt20 pl24 bg-w f30"},[t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_jieshao.title))]),s._v(" "),t("div",{staticClass:"fg1 tr lh14",class:s.dish_jieshao.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_jieshao.title,s.dish_jieshao.placeholder,s.dish_jieshao.value)}}},[s._v(s._s(s.dish_jieshao.value||s.dish_jieshao.placeholder))])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_con_mobile.title))]),s._v(" "),t("div",{staticClass:"fg1 tr lh14",class:s.dish_con_mobile.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_con_mobile.title,s.dish_con_mobile.placeholder,s.dish_con_mobile.value)}}},[s._v(s._s(s.dish_con_mobile.value||s.dish_con_mobile.placeholder))])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_con_phone.title))]),s._v(" "),t("div",{staticClass:"fg1 tr lh14",class:s.dish_con_phone.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_con_phone.title,s.dish_con_phone.placeholder,s.dish_con_phone.value)}}},[s._v(s._s(s.dish_con_phone.value||s.dish_con_phone.placeholder))])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.dish_fuwu.title))]),s._v(" "),t("div",{staticClass:"fg1 tr lh14",class:s.dish_fuwu.value?"c666":"cccc",on:{click:function(i){s.preInject(s.dish_fuwu.title,s.dish_fuwu.placeholder,s.dish_fuwu.value)}}},[s._v(s._s(s.dish_fuwu.value||s.dish_fuwu.placeholder))])])]),s._v(" "),t("input-assistor",{ref:"assistor",on:{click:s.mappingValue}}),s._v(" "),t("btn-bottom",{on:{click:s.save}})],1)},staticRenderFns:[function(){var s=this.$createElement,i=this._self._c||s;return i("div",{staticClass:"abs canmera f fc jc fv"},[i("i",{staticClass:"dzicon icon-icon_tianjia- c999 f20"})])}]};var h=t("VU/8")(r,u,!1,function(s){t("U9uC")},null,null);i.default=h.exports},U9uC:function(s,i){}});