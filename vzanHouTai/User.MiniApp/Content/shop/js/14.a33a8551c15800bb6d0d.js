webpackJsonp([14],{"1KrV":function(s,a){},NLvR:function(s,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=t("Xxa5"),i=t.n(e),c=t("exGp"),l=t.n(c),r=t("PKHo"),o=t("wt7V"),n=t("Hj/8"),f=t("Zazt"),v=t("1sGI"),d=t.n(v),u=t("GKmE"),h=t("q0fy"),p=t("+TmT"),m=t("3z2j"),_=t("z5is"),y={mixins:[r.a,m.a,_.a],components:{"btn-bottom":o.a,"input-assistor":n.a,error:f.a,uploader:p.a},data:function(){return{domTitle:"新增分类",isShow:!1,classifySrc:"",classifyName:{value:"",placeholder:"请输入分类名称",title:"分类名称"},classifyDesc:{value:"",placeholder:"请输入分类描述",title:"分类描述"},sort:{value:"",placeholder:"请输入排序",title:"排序"},StoreId:0,classifyId:0,avatorSrc:"",validation:null}},methods:{save:function(){if(this.validation=new d.a({Name:this.classifyName.value},{Name:"required"},{"required.Name":"分类名称不能为空"}),this.validation.validate()){var s={Name:this.classifyName.value,Description:this.classifyDesc.value,Sort:this.sort.value,Icon:this.avatorSrc};u.a.showLoading("请稍候"),"create"==this.mode?this.create(this.StoreId,s):this.edit(this.classifyId,s)}},create:function(s,a){var t=this;return l()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.addProductClassify(s,a);case 2:if(!e.sent){e.next=7;break}return e.next=6,t.$messagebox.alert("操作成功");case 6:t.$router.go(-1);case 7:case"end":return e.stop()}},e,t)}))()},edit:function(s,a){var t=this;return l()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.a.editProductClassify(s,a);case 2:if(!e.sent){e.next=7;break}return e.next=6,t.$messagebox.alert("操作成功");case 6:t.$router.go(-1);case 7:case"end":return e.stop()}},e,t)}))()},mappingValue:function(s,a){switch(s){case"分类名称":this.classifyName.value=a;break;case"分类描述":this.classifyDesc.value=a;break;case"排序":this.sort.value=a}},preInject:function(s,a,t){this.$refs.assistor.open(s,a,t)},handleMode:function(){var s=this.$route.query;if("edit"==(this.mode=s.mode)){this.classifyId=s.classifyId,this.domTitle="分类编辑";var a=s.classifyInfo;a=JSON.parse(a),console.log(a),this.classifyName.value=a.Name,this.classifyDesc.value=a.Description,this.sort.value=a.Sort,this.avatorSrc=a.Icon,this.isShow=1==a.Display}}},created:function(){this.handleMode()},mounted:function(){}},g={render:function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"classify-edit"},[t("div",{staticClass:"bg-w pl24 c333 f30"},[t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v("分类图标")]),s._v(" "),t("uploader",{attrs:{uploaderParams:s.uploadConfig},on:{added:s.handleAdded,progress:s.handleProgress,uploaded:s.handleUploaded,error:s.handleError}},[t("div",{ref:"upload",staticClass:"avator rel",attrs:{slot:"btn-upload"},slot:"btn-upload"},[s.avatorSrc?t("img",{directives:[{name:"src",rawName:"v-src",value:s.avatorSrc,expression:"avatorSrc"}],staticClass:"avator"}):s._e(),s._v(" "),s.avatorSrc?s._e():t("div",{staticClass:"avator theme-bg-color tc lh17 dzicon icon-icon_fenleiguanli cfff f60"}),s._v(" "),t("div",{staticClass:"abs canmera f fc jc fv"},[t("i",{staticClass:"dzicon icon-icon_tianjia- c999 f20"})])])])],1),s._v(" "),t("div",{staticClass:"f fv"},[t("div",{staticClass:"config-group border-bottom f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.classifyName.title))]),s._v(" "),t("div",{staticClass:" fg1 tr lh14",class:s.classifyName.value?"c666":"cccc",on:{click:function(a){s.preInject(s.classifyName.title,s.classifyName.placeholder,s.classifyName.value)}}},[s._v(s._s(s.classifyName.value||s.classifyName.placeholder))])]),s._v(" "),t("error",{attrs:{validation:s.validation,check:"Name"}})],1),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v(s._s(s.classifyDesc.title))]),s._v(" "),t("div",{staticClass:" fg1 tr lh14",class:s.classifyDesc.value?"c666":"cccc",on:{click:function(a){s.preInject(s.classifyDesc.title,s.classifyDesc.placeholder,s.classifyDesc.value)}}},[s._v(s._s(s.classifyDesc.value||s.classifyDesc.placeholder))])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left w-force lh14 fs f fv"},[t("div",{staticClass:"f30"},[s._v(s._s(s.sort.title))]),s._v(" "),t("div",{staticClass:"tips w-force lh14 f20 theme-color-blue mt10"},[s._v("\n          数字越大越靠前\n        ")])]),s._v(" "),t("div",{staticClass:"fg1 tr lh14",class:s.sort.value?"c666":"cccc",on:{click:function(a){s.preInject(s.sort.title,s.sort.placeholder,s.sort.value)}}},[s._v("\n        "+s._s(s.sort.value||s.sort.placeholder)+"\n      ")])]),s._v(" "),t("div",{staticClass:"config-group f fc fj"},[t("span",{staticClass:"left fs"},[s._v("是否显示")]),s._v(" "),t("mt-switch",{model:{value:s.isShow,callback:function(a){s.isShow=a},expression:"isShow"}})],1)]),s._v(" "),t("btn-bottom",{attrs:{isFixed:""},on:{click:s.save}}),s._v(" "),t("input-assistor",{ref:"assistor",on:{click:s.mappingValue}})],1)},staticRenderFns:[]};var C=t("VU/8")(y,g,!1,function(s){t("1KrV")},null,null);a.default=C.exports}});